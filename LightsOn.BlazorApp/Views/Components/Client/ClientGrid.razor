@using Syncfusion.Blazor.Grids
@using LightsOn.BlazorApp.Models.ClientViews
@using LightsOn.BlazorApp.Models.Views.Components.ClientGrid
@using Syncfusion.Blazor.Notifications
@using System.Collections.Immutable

@if (State == ClientGridState.Loading)
{
    <ProgressBarBase Value="10" Minimum="0" Maximum="100" />
}

@if (State == ClientGridState.Content)
{
    <SfGrid DataSource="@ClientViews"
            AllowPaging="true"
            AllowSorting="true"
            AllowFiltering="true"
            AllowGrouping="true">
        <GridPageSettings/>
        <GridColumns>
            <GridColumn Field=@nameof(ClientView.Name)
                        HeaderText="Name"
                        TextAlign="TextAlign.Right"/>
        </GridColumns>
    </SfGrid>
}

@if (State == ClientGridState.Error)
{
    <SfMessage Severity="MessageSeverity.Error">
        @ErrorMessage.Match(
            errorMessage => errorMessage, 
            () => EmptyErrorMessage)
    </SfMessage>
}